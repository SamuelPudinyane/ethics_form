<!-- FORM A: SECTION 1-5 -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Form A â€“ Human Research Ethics | JBS Ethics</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/form_a.css" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/form_a.css') }}"
    />
  </head>
  <body>
    <!-- Navbar -->
    <header class="navbar">
      <div class="nav-content">
        <img
          src="{{ url_for('static',filename='img/image.png')}}"
          alt="UJ JBS Logo"
          class="logo uj"
        />
        <span class="nav-title">Form A â€“ Section 5: Methodology</span>

        <!-- Logout -->
        <div style="text-align: right">
          <a href="logout.html" class="btn-logout">Logout</a>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Top Bar -->
      <div class="form-header">
        <button class="approve-btn">ðŸ’¾ Save Draft</button>
        <strong>Step 5 of 7</strong>
      </div>

      <!-- Progress Bar -->
      <div class="progress-bar">
        <div class="progress-fill">70%</div>
      </div>

      <form action="{{url_for('form_a_sec4')}}" method="post">
        <!-- Error Messages -->
        {% if messages %}
        <div
          id="alertMessage"
          class="alert alert-danger alert-dismissible fade show"
        >
          {% for message in messages %} {{ message }} {% endfor %}
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="alert"
            aria-label="Close"
          ></button>
        </div>
        {% endif %}
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
        <!-- Section 5: Methodology -->
        <section id="section-5">
          <h2>SECTION 5 â€“ METHODOLOGY</h2>

          <label
            >5.1 Research Paradigm (Substantiate your choice of paradigm)</label
          ><br />
          <input type="checkbox" name="paradigm" value="Quantitative" />
          Quantitative<br />
          <input type="checkbox" name="paradigm" value="Qualitative" />
          Qualitative<br />
          <input type="checkbox" name="paradigm" value="Mixed" /> Mixed
          Methods<br />
          <textarea
            name="paradigm_explanation"
            rows="3"
            placeholder="Explain your paradigm selection"
          ></textarea>

          <label>5.2 Research Design / Approach</label>
          <textarea
            name="design"
            rows="4"
            placeholder="Describe your research design and phases"
          ></textarea>

          <h3>5.3 Details of the participants</h3>

          <label>5.3.1 Participant Group Description</label>
          <textarea name="participants_description" rows="3"></textarea>

          <label>Population</label>
          <input type="text" name="population" />

          <label>Sampling Method</label>
          <input type="text" name="sampling_method" />

          <label>Sample Size</label>
          <input type="number" name="sample_size" />

          <label>Inclusion Criteria</label>
          <textarea name="inclusion_criteria" rows="2"></textarea>

          <label>5.3.4 Duration and Timing of Data Collection</label>
          <textarea name="duration_timing" rows="2"></textarea>

          <label>5.3.5 How will you obtain participant contact details?</label>
          <textarea name="contact_details_method" rows="2"></textarea>

          <label>5.3.6 Conflict of interest or unequal relationship?</label
          ><br />
          <input type="radio" name="conflict_interest" value="No" /> No
          <input type="radio" name="conflict_interest" value="Yes" /> Yes
          <textarea
            name="conflict_explanation"
            rows="2"
            placeholder="If yes, explain mitigation"
          ></textarea>

          <h3>5.4 Research Instruments for Data Collection</h3>
          <label>Questionnaire(s):</label><br />
          <input type="radio" name="questionnaire_type" value="Self-designed" />
          Self-designed<br />
          <input type="radio" name="questionnaire_type" value="Existing" />
          Existing<br />
          <label>If existing, permission obtained?</label>
          <input type="checkbox" name="permission_obtained" /> Yes
          <input type="checkbox" name="open_source" /> Open Source<br />
          <textarea
            name="instrument_attachment_reason"
            rows="2"
            placeholder="Attach or justify"
          ></textarea>

          <label>Describe the data collection procedure</label>
          <textarea name="data_collection_procedure" rows="3"></textarea>

          <label>Interviews</label><br />
          <input type="checkbox" name="interview_type" value="In-depth" />
          In-depth
          <input
            type="checkbox"
            name="interview_type"
            value="Semi-structured"
          />
          Semi-structured
          <input type="checkbox" name="interview_type" value="Unstructured" />
          Unstructured<br />

          <label>Will interviews be recorded?</label><br />
          <input type="checkbox" name="interview_recording" value="Audio" />
          Audio
          <input type="checkbox" name="interview_recording" value="Video" />
          Video<br />

          <label>Focus Groups</label><br />
          <input type="radio" name="use_focus_groups" value="Yes" /> Yes
          <input type="radio" name="use_focus_groups" value="No" /> No<br />
          <label>Will focus groups be recorded?</label><br />
          <input type="checkbox" name="focus_recording" value="Audio" /> Audio
          <input type="checkbox" name="focus_recording" value="Video" /> Video
          <br /><br />
          <label>Attach focus group/interview questions</label>
          <input
            type="file"
            name="focus_group_questions"
            accept=".pdf,.doc,.docx"
          />

          <label>5.7 Who will collect the data?</label>
          <textarea
            name="data_collectors"
            rows="2"
            placeholder="Mention yourself, fieldworkers, confidentiality measures"
          ></textarea>

          <label>5.8 Will participants be subjected to any intervention?</label
          ><br />
          <input type="radio" name="intervention" value="No" /> No
          <input type="radio" name="intervention" value="Yes" /> Yes<br />
          <textarea
            name="intervention_details"
            rows="2"
            placeholder="If yes, explain the intervention"
          ></textarea>

          <label>5.9 Sensitive data or vulnerable populations?</label>
          <textarea name="sensitive_data" rows="2"></textarea>

          <label>5.10 Will a translator be required?</label><br />
          <input type="radio" name="translator" value="No" /> No
          <input type="radio" name="translator" value="Yes" /> Yes
          <textarea
            name="translator_procedure"
            rows="2"
            placeholder="Explain how translator will be used"
          ></textarea>

          <label>5.12 Secondary data to be used?</label><br />
          <input type="radio" name="secondary_data" value="No" /> No
          <input type="radio" name="secondary_data" value="Yes" /> Yes
          <textarea
            name="secondary_data_details"
            rows="2"
            placeholder="Details and attach proof if applicable"
          ></textarea>
        </section>
    <h3>5.5 Secondary Data Usage</h3>

    <label>Will secondary data be used?</label><br>
    <select id="secondaryData" class="form-select" onchange="handleSecondaryData()">
      <option value="">-- Select --</option>
      <option value="yes">Yes</option>
      <option value="no">No</option>
    </select>
    
    <div id="secondaryDetails" style="display: none; margin-top: 1rem;">
    
      <label>Is the data Public or Private?</label><br>
      <select id="dataType" class="form-select" onchange="handleDataType()">
        <option value="">-- Select --</option>
        <option value="private">Private</option>
        <option value="public">Public</option>
      </select>
    
      <!-- Private Data Section -->
      <div id="privateDataSection" style="display: none; margin-top: 1rem;">
        <label>Is the data from a company that has provided permission?</label><br>
        <select id="privatePermission" class="form-select" onchange="handlePrivatePermission()">
          <option value="">-- Select --</option>
          <option value="yes">Yes</option>
          <option value="no">No</option>
        </select>
    
        <div id="uploadPrivatePermission" style="display: none; margin-top: 1rem;">
          <label>Please upload the permission for use of private data:</label>
          <input type="file" name="private_permission_file" class="form-control">
        </div>
      </div>
    
      <!-- Public Data Section -->
      <div id="publicDataSection" style="display: none; margin-top: 1rem;">
        <label>What type of public data is going to be used?</label>
        <textarea name="public_data_description" rows="3" class="form-control" placeholder="e.g., Annual reports; Open data; investigative reports"></textarea>
      </div>
    </div>
  </section>

        <!-- Navigation Buttons -->
        <div class="form-navigation">
          <a href="form-a-section3.html" class="revise-btn">â¬… Section 3</a>
          <button type="submit" class="approve-btn"
            >Next âž” Section 4</
          >
        </div>
      </form>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p>
        &copy; 2025 Johannesburg Business School | University of Johannesburg
      </p>
    </footer>

    <script>
      // Hide alert after 3 seconds
      setTimeout(function () {
        const alert = document.getElementById("alertMessage");
        if (alert) {
          alert.classList.remove("show"); // Bootstrap fade out
          alert.classList.add("fade"); // add fade class
          alert.style.display = "none"; // or use .remove() if you prefer
        }
      }, 3000); // 3000ms = 3 seconds
    </script>
  </body>
</html>
